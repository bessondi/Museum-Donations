(function(e){function t(t){for(var o,i,c=t[0],l=t[1],u=t[2],s=0,d=[];s<c.length;s++)i=c[s],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);m&&m(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var l=n[i];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},r={app:0},a=[];function i(e){return c.p+"js/"+({gratitude:"gratitude",offer:"offer"}[e]||e)+"."+{gratitude:"aae100d2",offer:"24c1f657"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise((function(t,o){n=r[e]=[t,o]}));t.push(n[2]=o);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=i(e);var u=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(s);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,n[1](u)}r[e]=void 0}};var s=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var s=0;s<l.length;s++)t(l[s]);var m=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01df":function(e,t,n){e.exports=n.p+"img/link.3c1d0f78.svg"},"045d":function(e,t,n){e.exports=n.p+"img/g-pay.642af676.svg"},"1d14":function(e,t,n){},2346:function(e,t,n){e.exports=n.p+"img/apple-pay.53e2e236.svg"},"2b7a":function(e,t,n){e.exports=n.p+"img/logo-visa.73b256a4.svg"},"389b":function(e,t,n){"use strict";n("1d14")},4071:function(e,t,n){e.exports=n.p+"img/logo-mir.086fe6a2.svg"},4396:function(e,t,n){e.exports=n.p+"img/logo-mastercard.a53c3dc9.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23");function r(e,t){var n=Object(o["v"])("router-view");return Object(o["q"])(),Object(o["d"])(n)}const a={};a.render=r;var i=a,c=(n("d3b7"),n("6c02")),l={class:"wrapper"};function u(e,t,n,r,a,i){var c=Object(o["v"])("Content"),u=Object(o["v"])("Form");return Object(o["q"])(),Object(o["d"])("div",l,[Object(o["h"])(c),Object(o["h"])(u)])}var s={class:"content"},m=Object(o["h"])("div",{class:"filling"},[Object(o["h"])("video",{class:"egg",preload:"",muted:"",loop:"",playsinline:"",autoplay:"",poster:""},[Object(o["h"])("source",{src:"https://fabergemuseum.ru/image/eggs/1.webm",type:"video/webm"}),Object(o["h"])("source",{src:"https://fabergemuseum.ru/image/eggs/1.mp4",type:"video/mp4"}),Object(o["h"])("source",{src:"https://fabergemuseum.ru/image/eggs/1.ogv",type:"video/ogg"})])],-1);function d(e,t){return Object(o["q"])(),Object(o["d"])("div",s,[m])}const f={};f.render=d;var h=f,b=(n("99af"),n("b0c0"),{class:"donation"}),p={class:"donation__header"},g={href:"https://fabergemuseum.ru/",class:"icon"},O={class:"donation__title"},j={class:"heading"},v={class:"description"},y={class:"donation__form__field"},$={for:"name"},A={class:"donation__form__field"},V={for:"email"},_={class:"donation__form__field"},k={class:"agreement",for:"offerAgreement"},x=Object(o["h"])("br",null,null,-1),P=Object(o["h"])("br",null,null,-1),w={key:0,class:"donation__form__field recurrent"},E={key:1,class:"donation__form__field amount"},F={key:2,class:"donation__form__field otherAmount"},L=Object(o["h"])("label",{for:"donationSum"},"Введите сумму пожертвования:",-1),C={class:"donation__form__field"},B={class:"paymentLogos"};function M(e,t,n,r,a,i){var c=Object(o["v"])("router-link");return Object(o["q"])(),Object(o["d"])("div",b,[Object(o["h"])("div",p,[Object(o["h"])("a",g,[Object(o["h"])("img",{class:"logo",src:a.backIcon,alt:"back to main page"},null,8,["src"])]),Object(o["h"])("button",{onClick:t[1]||(t[1]=function(){return i.changeLang&&i.changeLang.apply(i,arguments)}),class:"icon"},[Object(o["h"])("img",{class:"logo",src:"ru"===e.$locale("form.changeLangBtn")?a.languageIcons.ru:a.languageIcons.en,alt:"language"},null,8,["src"])])]),Object(o["h"])("div",O,[Object(o["h"])("h1",j,Object(o["x"])(e.$locale("form.heading")),1),Object(o["h"])("p",v,Object(o["x"])(e.$locale("form.description")),1)]),Object(o["h"])("form",{onSubmit:t[12]||(t[12]=Object(o["F"])((function(){return i.getPay&&i.getPay.apply(i,arguments)}),["prevent"])),class:"donation__form"},[Object(o["h"])("div",y,[Object(o["h"])("label",$,[Object(o["h"])("strong",null,"*"+Object(o["x"])(e.$locale("form.nameLabel"))+":",1)]),Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.name=e}),class:[null===e.$store.state.isNameValid?"":e.$store.state.isNameValid?"valid":"invalid","textField"],type:"text",id:"name",name:"name",placeholder:e.$locale("form.namePlaceholder"),required:""},null,10,["placeholder"]),[[o["B"],i.name,void 0,{trim:!0}]])]),Object(o["h"])("div",A,[Object(o["h"])("label",V,[Object(o["h"])("strong",null,"*"+Object(o["x"])(e.$locale("form.mailLabel"))+":",1)]),Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.email=e}),class:[null===e.$store.state.isEmailValid?"":e.$store.state.isEmailValid?"valid":"invalid","textField"],type:"email",id:"email",name:"email",placeholder:"faberge@museum.ru",required:""},null,2),[[o["B"],i.email,void 0,{trim:!0}]])]),Object(o["h"])("div",_,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.offerAgreement=e}),type:"checkbox",id:"offerAgreement",name:"offerAgreement"},null,512),[[o["z"],i.offerAgreement]]),Object(o["h"])("label",k,[Object(o["h"])("strong",null,[Object(o["g"])(Object(o["x"])(e.$locale("form.offerAgreement"))+" ",1),Object(o["h"])(c,{to:"/offer"},{default:Object(o["D"])((function(){return[Object(o["h"])("img",{class:"logo",src:a.linkIcon,alt:"offer"},null,8,["src"])]})),_:1})]),x,P,Object(o["h"])("small",null,Object(o["x"])(e.$locale("form.note")),1)])]),i.offerAgreement?(Object(o["q"])(),Object(o["d"])("div",w,[Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.recurrent=e}),type:"radio",id:"firstType",class:"donation__form_hidden",name:"recurrent",value:"single"},null,512),[[o["A"],i.recurrent]]),Object(o["h"])("label",{class:["single"===e.$store.state.recurrentPicked?"checked":null,"btn"],for:"firstType"},Object(o["x"])(e.$locale("form.recurrentOnce")),3),Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return i.recurrent=e}),type:"radio",id:"secondType",class:"donation__form_hidden",name:"recurrent",value:"monthly"},null,512),[[o["A"],i.recurrent]]),Object(o["h"])("label",{class:["monthly"===e.$store.state.recurrentPicked?"checked":null,"btn"],for:"secondType"},Object(o["x"])(e.$locale("form.recurrentMonthly")),3)])):Object(o["e"])("",!0),i.offerAgreement?(Object(o["q"])(),Object(o["d"])("div",E,[Object(o["h"])("input",{onClick:t[7]||(t[7]=function(e){return i.setAmount(50)}),type:"radio",id:"firstAmount",class:"donation__form_hidden",name:"amount"}),Object(o["h"])("label",{class:[50===e.$store.state.amountValue?"checked":null,"btn btnAmountTitle"],for:"firstAmount"},"50 "+Object(o["x"])(e.$locale("form.currency")),3),Object(o["h"])("input",{onClick:t[8]||(t[8]=function(e){return i.setAmount(100)}),type:"radio",id:"secondAmount",class:"donation__form_hidden",name:"amount"}),Object(o["h"])("label",{class:[100===e.$store.state.amountValue?"checked":null,"btn btnAmountTitle"],for:"secondAmount"},"100 "+Object(o["x"])(e.$locale("form.currency")),3),Object(o["h"])("input",{onClick:t[9]||(t[9]=function(e){return i.setAmount(1e3)}),type:"radio",id:"thirdAmount",class:"donation__form_hidden",name:"amount"}),Object(o["h"])("label",{class:[1e3===e.$store.state.amountValue?"checked":null,"btn btnAmountTitle"],for:"thirdAmount"},"1000 "+Object(o["x"])(e.$locale("form.currency")),3),Object(o["h"])("input",{onClick:t[10]||(t[10]=function(e){return i.setAmount("other")}),type:"radio",id:"otherAmount",class:"donation__form_hidden",name:"amount"}),Object(o["h"])("label",{class:[e.$store.state.isAmountFieldVisible?"checked":null,"btn btnAmountTitle"],for:"otherAmount"},Object(o["x"])(e.$locale("form.otherAmount")),3)])):Object(o["e"])("",!0),i.offerAgreement&&e.$store.state.isAmountFieldVisible?(Object(o["q"])(),Object(o["d"])("div",F,[L,Object(o["E"])(Object(o["h"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return i.amountSum=e}),class:"textField",type:"number",id:"donationSum",name:"sum",placeholder:e.$locale("form.amountPlaceholder")},null,8,["placeholder"]),[[o["B"],i.amountSum,void 0,{number:!0}]])])):Object(o["e"])("",!0),Object(o["h"])("div",C,[Object(o["h"])("input",{class:["submitBtn",e.$store.state.isNameValid&&e.$store.state.isEmailValid&&e.$store.state.isOfferAgreement&&e.$store.state.isBtnActive?"active":""],id:"submit",type:"submit",value:"".concat(e.$locale("form.submitBtn")," ").concat(e.$store.state.amountValue?e.$store.state.amountValue+e.$locale("form.currency"):"")},null,10,["value"])]),Object(o["h"])("div",B,[(Object(o["q"])(!0),Object(o["d"])(o["a"],null,Object(o["u"])(a.paymentIcons,(function(e){return Object(o["q"])(),Object(o["d"])("img",{key:e.id,class:"logo",src:e.logo,alt:e.alt},null,8,["src","alt"])})),128))])],32)])}n("ac1f"),n("466d");var T,S=n("e54a"),I=n.n(S),q=n("610c"),U=n.n(q),N=n("f887"),R=n.n(N),z=n("01df"),D=n.n(z),Z=n("2346"),J=n.n(Z),Y=n("045d"),G=n.n(Y),H=n("2b7a"),K=n.n(H),Q=n("4396"),W=n.n(Q),X=n("4071"),ee=n.n(X),te=function(e){T=function(t){e.$router.push(t)}};function ne(e,t,n,o){var r=new cp.CloudPayments,a={};n&&(a.cloudPayments={recurrent:{interval:"Month",period:1,amount:e}});var i="ru"===o?"RUB":"EUR",c="pk_5dd54d4b5d9a17e641da689238624";r.pay("auth",{publicId:c,description:"Пожертвование Музею Фаберже в сумме ".concat(e," рублей"),amount:e,currency:i,email:t,requireEmail:!0,invoiceId:"",accountId:t,skin:"mini",data:a},{onSuccess:function(e){T("/gratitude")},onFail:function(e,t){},onComplete:function(e,t){}})}var oe={inject:["changeLocale"],data:function(){return{paymentIcons:[{id:1,logo:J.a,alt:"Apple pay"},{id:2,logo:G.a,alt:"Google pay"},{id:3,logo:W.a,alt:"MasterCard"},{id:4,logo:K.a,alt:"VISA"},{id:5,logo:ee.a,alt:"МИР"}],languageIcons:{ru:I.a,en:U.a},linkIcon:D.a,backIcon:R.a}},computed:{currency:{get:function(){return this.$store.state.currency}},name:{get:function(){return this.$store.state.nameValue},set:function(e){this.$store.commit("updateName",e),this.$store.state.nameValue.length>=3&&this.$store.state.nameValue.length<=15?this.$store.commit("nameValid",!0):this.$store.commit("nameValid",!1),this.isFormValid()}},email:{get:function(){return this.$store.state.emailValue},set:function(e){this.$store.commit("updateEmail",e),this.$store.commit("emailValid",this.isMailValid(this.email)),this.isFormValid()}},offerAgreement:{get:function(){return this.$store.state.isOfferAgreement},set:function(e){this.$store.commit("updateOfferAgreement",e),this.isFormValid()}},recurrent:{get:function(){return this.$store.state.recurrentPicked},set:function(e){this.$store.commit("updateRecurrent",e)}},amountSum:{get:function(){return this.$store.state.amountValue},set:function(e){this.$store.commit("updateAmount",e),this.isFormValid()}}},methods:{setAmount:function(e){this.$store.commit("addAmount",e),this.isFormValid()},isMailValid:function(e){var t=/^([a-zA-Z0-9_\-.]+)@((\[[0-9]{1,3}\.[0-9]{2,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,5}|[0-9]{1,3})(\]?)$/;return 0!==e.length&&null!==e.toLowerCase().match(t)},getPay:function(){if(""!==this.nameValue&&this.$store.state.isEmailValid&&this.$store.state.isOfferAgreement&&this.$store.state.amountValue>=50&&this.$store.state.isBtnActive){var e="single"!==this.$store.state.recurrentPicked&&("monthly"===this.$store.state.recurrentPicked||null);te(this),ne(this.amountSum,this.email,e,this.locale)}},isFormValid:function(){this.$store.state.isNameValid&&this.$store.state.isEmailValid&&this.$store.state.isAmountValid?this.$store.commit("formValid",!0):this.$store.commit("formValid",!1)},changeLang:function(){"ru"===this.$store.state.locale?this.$store.commit("changeLoc","en"):this.$store.commit("changeLoc","ru"),this.changeCurr(),this.changeLocale(this.$store.state.locale),this.$forceUpdate()},changeCurr:function(){"ru"===this.$store.state.locale?this.$store.commit("changeCurrency","RUB"):this.$store.commit("changeCurrency","EUR")}},mounted:function(){var e=document.createElement("script");e.setAttribute("src","https://widget.cloudpayments.ru/bundles/cloudpayments"),document.head.appendChild(e)}};oe.render=M;var re=oe,ae={components:{Content:h,Form:re}};n("389b");ae.render=u;var ie=ae,ce=[{path:"/",component:ie},{path:"/gratitude",component:function(){return n.e("gratitude").then(n.bind(null,"721a"))}},{path:"/offer",component:function(){return n.e("offer").then(n.bind(null,"b793"))}}],le=Object(c["a"])({history:Object(c["b"])(),routes:ce}),ue=n("5502"),se=Object(ue["a"])({state:{locale:"ru",currency:"RUB",nameValue:"",emailValue:"",amountValue:0,isNameValid:null,isEmailValid:null,isAmountValid:null,isOfferAgreement:!1,isAmountFieldVisible:!1,isEmailSubscription:!1,recurrentPicked:"single",isBtnActive:!1},mutations:{changeLoc:function(e,t){e.locale=t},changeCurrency:function(e,t){e.currency=t},updateName:function(e,t){e.nameValue=t},updateEmail:function(e,t){e.emailValue=t},nameValid:function(e,t){e.isNameValid=t},emailValid:function(e,t){e.isEmailValid=t},updateOfferAgreement:function(e,t){e.isOfferAgreement=t},updateRecurrent:function(e,t){e.recurrentPicked=t},updateAmount:function(e,t){e.amountValue=t,e.amountValue>=50?e.isAmountValid=!0:e.isAmountValid=!1},addAmount:function(e,t){"number"===typeof t?(e.amountValue=t,e.isAmountFieldVisible=!1):"other"===t&&(e.amountValue="",e.isAmountFieldVisible=!0),e.amountValue>=50?e.isAmountValid=!0:e.isAmountValid=!1},formValid:function(e,t){e.isBtnActive=t}},actions:{},modules:{}}),me={form:{changeLangBtn:"en",heading:"Пожертвование Музею Фаберже",description:"Музей Фаберже в Санкт-Петербурге и НО «Культурно-Исторический Фонд «Связь времен» приглашает Вас поддержать Музей, осуществив пожертвование на счет Фонда на его уставную деятельность. Ваше участие станет значимой помощью в деле поддержки нашего Музея, которая позволит ему в полной мере выполнять свои основные задачи: собирать, изучать и популяризировать русское искусство!",nameLabel:"Ваше имя",namePlaceholder:"Карл Фаберже",mailLabel:"Email",offerAgreement:" Согласен(-на) с условиями оферты",note:"Обращаем Ваше внимание, что пожертвования через сайт Музея Фаберже принимаются только от физических лиц.",recurrentOnce:"Единовременно",recurrentMonthly:"Ежемесячно",otherAmount:"Другая сумма",amountPlaceholder:"Минимальная сумма 50 рублей",submitBtn:"Пожертвовать",currency:" ₽",backBtn:"Вернуться назад",offerText:"Текст Договора - оферты"}},de={form:{changeLangBtn:"ru",heading:"Donations for Fabergé Museum",description:"The Fabergé Museum in St. Petersburg and the Cultural and Historical Foundation «Link of Times» invites you to support the Museum by making a donation to the Foundation's account for its statutory activities. Your participation will be a significant help in supporting our Museum, which will allow it to fully fulfill its main tasks: to collect, study and popularize Russian art!",nameLabel:"Your name",namePlaceholder:"Carl Fabergé",mailLabel:"Email",offerAgreement:" I agree to the terms of the offer",note:"Please note that donations through the Fabergé Museum website are accepted only from individuals.",recurrentOnce:"Donate once",recurrentMonthly:"Donate monthly",otherAmount:"Other Amount",amountPlaceholder:"Minimum amount 5 euro",submitBtn:"Donate",currency:" €",backBtn:"Back to donation",offerText:"Offer Text"}},fe=(n("13d5"),n("1276"),{install:function(e,t){var n="ru",o=function(e){return n=e};e.config.globalProperties.$locale=function(e){return e.split(".").reduce((function(e,t){return e[t]||"wrongValue"}),t[n])},e.provide("changeLocale",o)}});Object(o["c"])(i).use(se).use(le).use(fe,{ru:me,en:de}).mount("#app")},"610c":function(e,t,n){e.exports=n.p+"img/en-flag.b6e5300d.svg"},e54a:function(e,t,n){e.exports=n.p+"img/ru-flag.58ba1489.svg"},f887:function(e,t,n){e.exports=n.p+"img/backArrow.c89d020e.svg"}});
//# sourceMappingURL=app.70f61696.js.map